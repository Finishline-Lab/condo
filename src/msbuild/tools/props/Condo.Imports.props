<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="12.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
    <PropertyGroup>
        <!-- find the global assembly info path -->
        <GlobalAssemblyInfoPath Condition=" '$(GlobalAssemblyInfoPath)' == '' And Exists('$(SettingsRoot)GlobalAssemblyInfo.cs') ">$(SettingsRoot)GlobalAssemblyInfo.cs</GlobalAssemblyInfoPath>
        <GlobalAssemblyInfoPath Condition=" '$(GlobalAssemblyInfoPath)' == '' And Exists('$(SolutionRoot)GlobalAssemblyInfo.cs') ">$(SolutionRoot)GlobalAssemblyInfo.cs</GlobalAssemblyInfoPath>

        <!-- find the code analysis dictionary path -->
        <CodeAnalysisDictionaryPath Condition=" '$(CodeAnalysisDictionaryPath)' == '' And Exists('$(MSBuildProjectDirectory)$(DirectorySeparatorChar)CodeAnalysisDictionary.xml') ">$(MSBuildProjectDirectory)$(DirectorySeparatorChar)CodeAnalysisDictionary.xml</CodeAnalysisDictionaryPath>
        <CodeAnalysisDictionaryPath Condition=" '$(CodeAnalysisDictionaryPath)' == '' And Exists('$(SettingsRoot)CodeAnalysisDictionary.xml') ">$(SettingsRoot)CodeAnalysisDictionary.xml</CodeAnalysisDictionaryPath>
        <CodeAnalysisDictionaryPath Condition=" '$(CodeAnalysisDictionaryPath)' == '' And Exists('$(SolutionRoot)CodeAnalysisDictionary.xml') ">$(SolutionRoot)CodeAnalysisDictionary.xml</CodeAnalysisDictionaryPath>

        <!-- find the stylecop settings path -->
        <StyleCopSettingsPath Condition=" '$(StyleCopSettingsPath)' == '' And Exists('$(MSBuildProjectDirectory)$(DirectorySeparatorChar)stylecop.json') ">$(MSBuildProjectDirectory)$(DirectorySeparatorChar)stylecop.json</StyleCopSettingsPath>
        <StyleCopSettingsPath Condition=" '$(StyleCopSettingsPath)' == '' And Exists('$(SettingsRoot)stylecop.json') ">$(SettingsRoot)stylecop.json')</StyleCopSettingsPath>
        <StyleCopSettingsPath Condition=" '$(StyleCopSettingsPath)' == '' And Exists('$(SolutionRoot)stylecop.json') ">$(SolutionRoot)stylecop.json')</StyleCopSettingsPath>
    </PropertyGroup>

    <ItemGroup>
        <!-- include the global assembly info file -->
        <Compile Include="$(GlobalAssemblyInfoPath)"
                 Condition=" '$(GlobalAssemblyInfoPath)' != '' ">
            <Link>Properties\GlobalAssemblyInfo.cs</Link>
        </Compile>

        <!-- include the code analysis dictionary file -->
        <CodeAnalysisDictionary Include="$(CodeAnalysisDictionaryPath)"
                                Condition=" '$(CodeAnalysisDictionaryPath)' != '' ">
            <Link>CodeAnalysisDictionary.xml</Link>
        </CodeAnalysisDictionary>

        <!-- include the stylecop settings file -->
        <AdditionalFiles Include="$(StyleCopSettingsPath)" Condition=" '$(StyleCopSettingsPath)' != '' ">
            <Link>stylecop.json</Link>
        </AdditionalFiles>
    </ItemGroup>
</Project>